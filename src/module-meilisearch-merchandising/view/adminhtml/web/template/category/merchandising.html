<div id="messages" data-bind="visible: merchandising.message(), css: 'fadeout'">
    <div class="messages">
        <div class="message message-success success">
            <div data-bind="text: merchandising.message()"></div>
        </div>
    </div>
</div>
<div class="category-merchandising">
    <button data-bind="click: saveRule, enable: merchandising.currentRule()" type="button" id="save-rule" class="save primary">
        <span data-bind="i18n: 'Save Rule'"></span>
    </button>
    <button data-bind="click: deleteRule, enable: merchandising.currentRule()" type="button" class="save secondary">
        <span data-bind="i18n: 'Delete Rule'"></span>
    </button>
    <div id="query-builder" data-bind="initQueryBuilder"></div>
    <button data-bind="click: preview, enable: merchandising.currentRule()" type="button" class="save secondary">
        <span data-bind="i18n: 'Preview'"></span>
    </button>
    <div id="category-merchandising-preview">
        <div class="product-grid" data-bind="foreach: merchandising.docs()">
            <div class="product-card" data-bind="attr: {'data-product-id': id}">
                <button class="drag-handle" title="Drag to reorder">â ¿</button>
                <img data-bind="attr: { src: $parent.productMediaUrl + image, alt: name }" class="product-image">
                <div class="product-name" data-bind="text: name"></div>
                <div class="product-sku" data-bind="text: sku"></div>
                <div class="product-price" data-bind="text: price_0"></div>
            </div>
        </div>
    </div>
</div>
